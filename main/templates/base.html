<!DOCTYPE html>
<head>

    <link rel="stylesheet" href="{{ url_for('static', filename='loading.css') }}">
    <script src="{{ url_for('static', filename='template.js') }}"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>

</head>
<body>

    <h3 id = "title">Scraped Feeds</h3>

    <form method="POST">
        <input type="submit" value = "scrape" onclick="scrapeloading();">
    </form>
        <button id = "select">select</button>

        <div id="loading"></div>

        <br>
        <label id = "error">Error : {{msg}}</label>
        <br>

    <div id="content">

        <form method="POST">

            <button><a href={{ url_for("insert.insert") }}>addsite</a></button>
            <button><a href={{ url_for("insert.insert_feed") }}>addfeed</a></button>
            <br>

        </form>

        <table>
            <thead>
                <tr>
                    <th><div id = "checkbox"><label>Check</label></div></th>
                    <th><button onclick="sort(1)">Site</button></th>
                    <th><button onclick="sort(2)">Type</button></th>
                    <th><button onclick="sort(3)">Scraped At</button></th>
                    <th>Title</th>
                    <th>Author</th>
                </tr>
            </thead>
            <tbody>
                    {% for i in sitefeed %}
                    <tr>
                        <td><div id = "checkbox"><input type="checkbox"></div></td>
                        <td>{{ i[0] }}</td>
                        <td>{{ i[1] }}</td>
                        <td>{{ i[2] }}</td>
                        <td><a href = {{ i[6] }}>{{ i[4] }}</a></td>
                        <td>{{ i[5] }}</td>
                    </tr>
                    {% endfor %}
            </tbody>
        </table>    
    </div>
</body>